-<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Calendar Test</title>
      <meta charset = "utf-8" />
      <link rel="stylesheet" type="text/css" href="calendar.css">
      <link rel="stylesheet" type="text/css" href="weekCalendar.css">
      <script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
   </head>
   <body>
      <div class = "background">
         <div class="grid-container">
            <div class = "grid-item grid-item-pageTitle">
               <header class = "pageHeader"> Calendar  </header>
            </div>

            <!--  -->
            <!-- <form class="reserve" action="" method="POST"> -->
               <!-- <div id="alertMsg"></div>
               <div id="alertReserve"></div> -->

            <!-- Wake-up/Bed time options -->
            <div class="grid-item grid-item-wakeBed">
               <label for="wake">Wake Up Time:</label>
               <input type="time" id="wake"><br>
            </div>
            <div class="grid-item grid-item-wakeBed">
               <label for="bed">Bedtime:</label>
               <input type="time" id="bed"><br>
            </div>
            <!--
            <h1 class="teList">Wake Up / Bedtime</h1>
            <div class="set_constraints">
             <label for="wake">Wake Up Time:</label>
             <input type="time" id="wake" class="aaa"><br>
             <label for="bed">Bedtime:</label>
             <input type="time" id="bed" class="aaa"><br>
            </div>-->

            <!-- Calendar -->
            <div class = "grid-item grid-item-trio" name="calendarSlot" id="capture">
               <table id="weekCalendar">
                     <tr name = "headerMenu">
                        <th id="back" onclick="weeklyCalendar()" title="Restart"> ⥀ </th>
                        <th colspan="4" id="monthLabel" contenteditable='true' onclick='this.focus();' title="Click to Edit Calendar Name">My calendar!</th>
                        <th id="help" onclick="screenshot()" title="Download"> ⇓ </th>
                        <!-- Script -->
                        <script type='text/javascript'>
                        function screenshot(){
                          html2canvas(document.getElementById('capture')).then(function(canvas) {
                             saveAs(canvas.toDataURL(), document.getElementById("monthLabel").textContent + '.png');
                          });
                        }

                        function saveAs(uri, filename) {

                        var link = document.createElement('a');

                        if (typeof link.download === 'string') {

                        link.href = uri;
                        link.download = filename;

                        //Firefox requires the link to be in the body
                        document.body.appendChild(link);

                        //simulate click
                        link.click();

                        //remove the link when done
                        document.body.removeChild(link);

                        } else {

                        window.open(uri);

                        }

                        }
                        </script>
                     </tr>
                     <tr id="topLegend">
                     </tr>
                     <tr id="rw1"></tr>
                     <tr id = "rw2"></tr>
                     <tr id = "rw3"></tr>
                     <tr id = "rw4"></tr>
                     <tr id = "rw5"></tr>
                     <tr id = "rw6"></tr>
                     <tr id = "rw7"></tr>
                     <tr id = "rw8"></tr>
                     <tr id = "rw9"></tr>
                     <tr id = "rw10"></tr>
                     <tr id = "rw11"></tr>
                     <tr id = "rw12"></tr>
                     <tr id = "rw13"></tr>
                     <tr id = "rw14"></tr>
                     <tr id = "rw15"></tr>
                     <tr id = "rw16"></tr>
                     <tr id = "rw17"></tr>
                     <tr id = "rw18"></tr>
                     <tr id = "rw19"></tr>
                     <tr id = "rw20"></tr>
                     <tr id = "rw21"></tr>
                     <tr id = "rw22"></tr>
                     <tr id = "rw23"></tr>
                     <tr id = "rw24"></tr>
                     <tr id = "rw25"></tr>
                     <tr id = "rw26"></tr>
                     <tr id = "rw27"></tr>
                     <tr id = "rw28"></tr>
                     <tr id = "rw29"></tr>
                     <tr id = "rw30"></tr>
                     <tr id = "rw31"></tr>
                     <tr id = "rw32"></tr>
                     <tr id = "rw33"></tr>
                     <tr id = "rw34"></tr>
                     <tr id = "rw35"></tr>
                     <tr id = "rw36"></tr>
                     <tr id = "rw37"></tr>
                     <tr id = "rw38"></tr>
                     <tr id = "rw39"></tr>
                     <tr id = "rw40"></tr>
                     <tr id = "rw41"></tr>
                     <tr id = "rw42"></tr>
                     <tr id = "rw43"></tr>
                     <tr id = "rw44"></tr>
                     <tr id = "rw45"></tr>
                     <tr id = "rw46"></tr>
                     <tr id = "rw47"></tr>
                     <tr id = "rw48"></tr>
                  </table>
            
            </div>
            <!-- Lists!-->
            <div class="grid-item grid-item-trio">
               
 
       <div class="teList">
         <h1>Tasks</h1>
         <ul id="list_of_tasks"></ul>
       </div>
 
       <div class="teList">
         <h1>Events</h1>
         <ul id="list_of_events"></ul>
       </div>
 
       <div class="teList" style="display: block">
         <h1>Calendar</h1>
         <p id="cal_array"></p>
       </div>
       <input id="button_update" type="submit" value="Update Calendar" class="button"/>
            </div>

      
      <div class="grid-item grid-item-trio">
      <div class="add_task">
         <h1>Add Task</h1>
 
         <input type="text" id="task_name" placeholder="Task Name" class="task_name"><br>
         
         <label for="importance_slider">Importance:</label>
         <input type="range" min="0" max="100" value="50" class="slider" id="importance_slider" oninput="this.nextElementSibling.value = this.value">
         <output id="imp_sli_text">50</output>
         <br>
         
         <label for="est_length">Estimated Length:</label>
         <input type="range" min="30" max="240" value="30" class="slider" step="30" id="est_length" oninput="this.nextElementSibling.value = this.value">
         <output id="est_sli_text">30</output>
         <br>
 
         <input id="add_date_button" class="button" type="submit" value="Add Due Date"><br id="add_date_button_break">
 
         <div id="task_date" style="display:none">
           <label for="urgency_date">Due Date:</label>
           <input type="date" id="urgency_date" value="" class="d2">
           <input id="remove_date_button" type="submit" value="Remove Due Date" class="button">
         </div>
         
         <input id="add_task_button" type="submit" name="button" value="+"/><br>
         <p id="missing_info" style="display:none">Fill out missing information!</p>
 
       </div>
       <div class="add_event">
         <h1>Add Event</h1>
         <input type="text" id="fevent" name="fevent" placeholder="Event Name"><br>
         <label for="date">Date:</label>
         <input type="date" id="date" name="trip-start" class="ddd"><br>
         <label for="start">Start:</label>
         <input type="time" id="start" class="ddd"><br>
         <label for="end">End:</label>
         <input type="time" id="end" class="ddd"><br>
         <input id="button2" type="submit" name="button2" value="+" class="add_event"/>
       </div>
       <div>
         
       </div>
      </div>


      <script type="text/javascript" src="calendar.js"></script>
      <script type="text/javascript" src="weeklyCalendar.js"></script>
   </body>
   <!----Footer of the page---->
</html>